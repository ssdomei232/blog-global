---
title: 生动的解释各种概念
tags: 
- NAT
- FRP
- 网络攻击
categories: 
- 技术
index_img: /img/2023/8/31/00001-430238757.png
banner_img: /img/2023/8/31/00001-430238757.png
permalink: /2023/08/31/202308312024/index.html
date: 2023-08-31 20:24:31
---

# NAT端口映射/frp

nat端口映射一般出现在购买无公网ip的云服务器时，这时nat服务器和你的机器处于同一个内网中，允许在一个局域网内的多台设备共享一个公网IP地址。

frp是内网穿透，是一种高性能的反向代理应用，出现在搭建家里云时，你没有公网IP，使用frp服务行或自建frp进行端口映射，这时你的服务器和服务端不在同一个内网中，需要在你的服务器中安装客户端。

NAT端口映射和FRP确实有一些相似之处，但它们并不是同一种技术。但是解释可以通用。

下面生动的解释一下概念：但需要分为防火墙开放和未开放防火墙两种情况，为开放防火墙需要自己去开放，nat端口映射和frp服务都不可能自己访问未开放的端口，以上解释是为了防止误解下文意思。

## 防火墙开放

张三想要偷窥妹子，但是妹子是一个二次元(内网)纸片人，张三是三次元(公网)人，无法找到妹子，于是找来了他的好哥们李四，李四（nat服务器）是2.5次元人，同时处于二次元(内网)和三次元(公网)中，知道妹子住哪，妹子家里有65535扇窗户(65535个端口)，但很多窗户都是单向的(没有服务)，还有很多窗户打了马赛克(协议不对),但王五看不到马赛克也看不到其它窗户，因为王五只能看张三指定的窗户(端口)，于是李四就趴在张三指定的窗户(端口)上偷看妹子，半个身子在三次元跟张三复述看到的东西。

## 未开放防火墙

张三想要找客户谈合同，但是找不到客户李四，于是张三找上了王五，王五是李四的好哥们，知道李四在哪，但为了隐私考虑，王五不告诉张三李四在哪，要求由李四进行视频通话，王五在李四家门口，但是李四家开着的窗户还打了马赛克，什么也看不到(协议不对)，但王五连马赛克也看不到，因为王五只能看张三指定的窗户(端口)，王五想要访问的窗户没开，还有保镖，看见有人想跟李四说话就打飞他，完全不讲理，李四此时也很着急，他联系不上王五，因为他忘了自己门口有保镖，这时李四在门口大喊一声：让我康康！！！（对应客户想起来打开防火墙），李四赶紧把对应的窗户打开(开放防火墙),开始和张三进行由王五代理的视频电话。

# CDN

CDN(Content Delivery Network或Content Ddistribute Network)内容分发网络

假设张三的博客是一个大明星，那么访问他的博客就像是在一个巨大的演唱会现场。CDN就像是一群超级经纪人，他们把这些狂热的粉丝分散到各个角落，让每个人都有好的观看体验。

CDN的服务器就像是张三的粉丝会成员，他们分布在各地，为演唱会做宣传，让更多的人知道张三的博客。当李四想要近距离接触张三时，CDN的服务器就会把他引向最近的安全出口，让他可以顺利地离开现场，而不至于被其他粉丝挤扁。

这样一来，李四就可以在网上继续他的追星之路，而不需要担心网络卡顿或者被其他粉丝挤得喘不过气。这就是CDN的妙处，它让我们的网络世界变得更加顺畅，同样的，如果王五也想要参加这场演唱会，他也可以通过CDN的服务器找到最近的入口，进入演唱会现场。这些服务器就像是热情的志愿者，他们帮助我们找到正确的入口，让我们可以享受到这场演唱会的狂热氛围。

同时，CDN还可以通过在世界各地缓存内容来加速访问。

# DDOS攻击

在部分云服务器的购买界面会显示"附加xxxG防御"或"高防IP"。

这里的"高防"防御的就是DDOS攻击。

DDOS没有什么比较好的软件防御方案，一般只能暴力应对，如加大服务器带宽，使用CDN，使用高防IP。一般的针对个人DDOS攻击是不会有极大的攻击流量的，但这里的极大的攻击流量并没有一个很清晰的界定，我也没有体验过DDOS攻击，但根据其它视频平台等渠道了解到的信息，我个人认为DDOS针对个人的DDOS攻击一般在10G-200G，一般不会出现更高的情况。

## DDOS攻击是什么

DDoS全称Distributed Denial of Service，意思为“分布式拒绝服务”，即利用大量合法的分布式服务器对目标发送请求，从而导致正常合法用户无法获得服务。

打个比方:

张三在街上租了个店铺卖东西，张三的营销手段很厉害，赚了很多钱，周边的商家看他不顺眼，开始羡慕嫉妒恨，于是派了几车面包人，百来号人，都挤在张三的店铺里看东西，但他们只看不买，就挤在那里，使真正的客户进不来，张三的东西也卖不出去。

## DDOS防御是什么

张三因为被攻击损失惨重，于是张三请了一个保镖，这个保镖看人很准，看见面包人就把他踹飞，坚决不让面包人进来。这就是DDOS防御，可以清洗来源流量，由硬件防火墙实现。

这里说一个容易被理解错的点，高防IP的xxxG防御指的是瞬时流量峰值，而不是累计攻击流量。

# CC攻击

CC攻击（ ChallengeCoHapsar，挑战黑洞 ）是DDoS攻击的一种类型，主要利用代理机制，采取众包的方式，模拟多个用户（多少线程就是多少用户）不停地访问需要大量数据操作（就是需要大量CPU时间）的页面，造成服务器资源的浪费，CPU长时间处于100%，永远都有处理不完的连接直至网络拥塞，正常的访问被中止。这种攻击非常耗费服务器资源，甚至可能让服务器陷入瘫痪。

虽然CC攻击属于DDOS攻击的一种，但由于它成本低，攻击效果显著，并且有一些软件防御的办法，所以单独拉出来说。

## CC攻击是什么

张三开了一家公司，赚了不少钱，有些人就看他不爽，于是让一群机器人疯狂向张三的公司打电话/发邮件，发的邮件还都是有效问题，分不出哪个是真的客户，哪个是机器人。

其实CC攻击很常见，你也可以零成本的进行CC攻击，但仅限于一些源站裸奔且服务器配置拉跨的网站，只需要打开itdog，复制你看着不爽的网站点击网站测速的快速测试，这时你就在进行CC攻击，我的服务器就被我自己测死机过，所以赶紧屏蔽了itdog测速。

## 怎样防御CC攻击

CC攻击的防御很简单，大部分面板都有这个功能，一旦一个ip在一段时间内请求次数超过一个规定范围，就封禁这个ip一段时间。
